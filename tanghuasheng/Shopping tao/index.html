<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>购物车</title>
		<link rel="stylesheet" type="text/css" href="css/shopping.css" />
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<div class="content">
			<div class="head">
				<a href="">购物车</a>
			</div>
			<div class="mid_content">
				<div class="mid_content_part1">
					<b><a href=""></a></b>
					<h2 class="h2">购物车</h2>
					<div class="part1_right">
						<div class="serch_left"><span>宝贝</span><span class="down">️</span></div>
						<div class="serch_mid"><span class="icon_serch"></span></div>
						<div class="serch_right"><span class="icon_serch_2">搜索</span></div>
					</div>
				</div>
				<div class="mid_content_part2">
					<div class="part2_left">
						<ul>
							<li>全部商品<span>3</span></li>
							<li>剩余商品<span>0</span></li>
							<li>库存紧张<span>0</span></li>
							<span class="boder_bottom">	</span>
						</ul>
					</div>
					<div class="part2_right">
						<div class="js_btn jiesuan">结算</div>
						<div class="price totle">0.00</div>
						<div>已选商品（不含运费）</div>
					</div>
				</div>
				<div class="mid_content_part3">
					<div class="part3_left">
						<div class="all_choice">
							<div class="checkbox selectAll"></div>
							全选
						</div>

						<div>商品信息</div>
					</div>
					<div class="part3_right">
						<div class="unti_price">单价</div>
						<div class="num">数量</div>
						<div class="money">金额</div>
						<div class="operation">操作</div>
					</div>
				</div>
				<div class="mid_content_part4">
					<div class="checkbox dpCheckbox dp1"></div>
					<div class="dp_icon"></div>
					<div class="dp_name">店铺：
						<a href="">老美专店</a>
					</div>
					<div class="customer_service"></div>
				</div>
				<div class="mid_content_part5">
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp1"></div>
							<div class="commodity_pictures"><img src="img/TB2SU6ifl0kpuFjSsziXXa.oVXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【老美】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="100" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp1"></div>
							<div class="commodity_pictures"><img src="img/TB20YG8f9FmpuFjSZFrXXayOXXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【老美】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="1" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp1"></div>
							<div class="commodity_pictures"><img src="img/TB2SU6ifl0kpuFjSsziXXa.oVXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【老美】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1320.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="1" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
				</div>
				<div class="mid_content_part4">
					<div class="checkbox dpCheckbox dp2"></div>
					<div class="dp_icon"></div>
					<div class="dp_name">店铺：
						<a href="">好牛专店</a>
					</div>
					<div class="customer_service"></div>
				</div>
				<div class="mid_content_part5">
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp2"></div>
							<div class="commodity_pictures"><img src="img/TB2SU6ifl0kpuFjSsziXXa.oVXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【好牛】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="1" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp2"></div>
							<div class="commodity_pictures"><img src="img/TB2SU6ifl0kpuFjSsziXXa.oVXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【好牛】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="3" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp2"></div>
							<div class="commodity_pictures"><img src="img/TB20YG8f9FmpuFjSZFrXXayOXXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【老美】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="2" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
					<div class="part5_column">
						<div class="part5_column_content">
							<div class="checkbox goodsbox dp2"></div>
							<div class="commodity_pictures"><img src="img/TB2SU6ifl0kpuFjSsziXXa.oVXa_!!121771976.jpg_80x80.jpg" /></div>
							<div class="commodity_infor">
								<div class="infor_up">
									<p>
										<a href="">【老美】三菱翼神改装GTR包围&nbsp;翼神GRT款大包围&nbsp;GTR款侧裙</a>
									</p>
								</div>
								<div class="infor_down">
									<ul>
										<li class="card">
											<a href=""><img src="img/xcard.png" /></a>
										</li>
										<li class="fqg">
											<a href=""><img src="img/TB1GnsWJXXXXXbCXpXXXXXXXXXX-43-16.png" /></a>
										</li>
										<li class="seven">
											<a href=""><img src="img/T1EQA5FpVgXXceOP_X-16-16.jpg" /></a>
										</li>
										<li class="flower">
											<a href=""><img src="img/T1bnR4XEBhXXcQVo..-14-16.png" /></a>
										</li>
									</ul>
								</div>
							</div>
							<div class="commodity_infor2">
								<p>颜色分类：GTR前杠（pp材质）</p>
							</div>
							<div class="danjia">
								<p>¥1800.00</p>
							</div>
							<div class="shuliang">
								<div class="shuliang_menu">
									<div class="menu_jian"><span>-</span></div>
									<div class="menu_num"><span><input type="text" value="4" /></span></div>
									<div class="menu_jia"><span>+</span></div>
								</div>
							</div>
							<div class="jine">
								<p>¥1800.00</p>
							</div>
							<div class="caozuo">
								<a href=""></a>
								<a href="">移入收藏夹</a>
								<a href="">删除</a>
								<a href="" class="yincang">相似宝贝</a>
							</div>
						</div>
					</div>
				</div>

				<div class="mid_content_part6">
					<div class="part6_left">
						<div class="part6_left_left">
							<div class="all_choice ">
								<div class="checkbox selectAll"></div>
								<a>全选</a>
							</div>
							<div class="del">
								<a href="">删除</a>
							</div>
							<div class="shouru">
								<a href="">收入收藏夹</a>
							</div>
							<div class="share">
								<a href="">分享</a>
							</div>
						</div>
						<div class="part6_left_right">
							<div>已选商品<span class="xingmu2">0</span>件</div>
							<div>合计（不含运费）：<span class="xingmu totle">0.00</span></div>
						</div>
					</div>
					<div class="part6_right">
						<span class="jiesuan">结算</span>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>
		$(document).ready(function() {
			//border的tab切换
			$(".part2_left ul").children().hover(function() {
				var liLen = 130
				var left = $(this).index() * liLen + 1
				if(left > 261) {
					left = 1;
				}
				$('span').animate({
					left: left + 'px'
				}, "fast")
			});
			//鼠标移动，样式的变化
			$this = $(".part5_column");
			$this_child = $(".commodity_infor2");
			$this.each(function(index, item) {
				$(item).hover(function() {
					$($this_child[index]).css("border", "1px gray dashed");
					$($(".yincang")[index]).css("display", "block");
				}, function() {
					$($this_child[index]).css("border", "1px white dashed");
					$($(".yincang")[index]).css("display", "none");
				});
			});
			var t;
			$this_child.each(function(index, item) {
				$(item).hover(function() {
					t = setTimeout(function() {
						$($this_child[index]).css("border", "1px red dashed");
					}, 200);
				}, function() {
					clearTimeout(t);
					$($this_child[index]).css("border", "1px gray dashed");
				});
			});
			//checked相关操作	-------------------------------------------------				
			//第一步 商品
			//判断
			function isDpCheckbox() {
				if($('.dpCheckbox').length == $('.dpCheckbox.click_checkbox').length) {
					$('.selectAll').addClass('click_checkbox');
				} else {
					$('.selectAll').removeClass('click_checkbox');
				};
			};

			$('.goodsbox').each(function(index, item) {
				$(item).click(function() {
					$(item).toggleClass('click_checkbox');
					if($('.goodsbox.dp1').length == $('.goodsbox.dp1.click_checkbox').length) {
						$('.dpCheckbox.dp1').addClass('click_checkbox');
						isDpCheckbox();
					} else {
						$('.dpCheckbox.dp1').removeClass('click_checkbox');
						isDpCheckbox();
					};
					if($('.goodsbox.dp2').length == $('.goodsbox.dp2.click_checkbox').length) {
						$('.dpCheckbox.dp2').addClass('click_checkbox');
						isDpCheckbox();
					} else {
						$('.dpCheckbox.dp2').removeClass('click_checkbox');
						isDpCheckbox();
					};
					//------------------------结算
					//					var totle = 0;
					//					$('.goodsbox.click_checkbox').each(function(index, item) {
					//						jine = $(item).siblings('.jine').children('p').html().substr(1, $(item).siblings('.jine').children('p').html().length - 1) * 1;
					//						totle += jine;
					//						$('.totle').html('¥' + totle + '.00');
					//					});
					//					if($(item).length == 0) {
					//						totle = 0;
					//					};
					//					$('.totle').html('¥' + totle + '.00');
				});

			}); //第二步 店铺
			$('.dpCheckbox').each(function(dpNum, dpCheckbox) {
				var totle = 0;
				$(dpCheckbox).click(function() {
					if($(dpCheckbox).hasClass('click_checkbox')) {
						$(dpCheckbox).removeClass('click_checkbox');
						var a = '.dp' + (dpNum + 1);
						$(a).removeClass('click_checkbox');
						$('.selectAll').removeClass('click_checkbox')
					} else {
						var a = '.dp' + (dpNum + 1);
						$(a).addClass('click_checkbox');
						if($('.dpCheckbox').length == $('.dpCheckbox.click_checkbox').length) {
							$('.selectAll').addClass('click_checkbox')
						};
					};
					$('.totle').html('¥' + totle + '.00');
				});
			});
			//第三步 全选按钮
			$('.selectAll').each(function(allIndex, all) {
				$(all).click(function() {
					if($(all).hasClass('click_checkbox')) {
						$('.checkbox').removeClass('click_checkbox');
					} else {
						$('.checkbox').addClass('click_checkbox');
					}
				});
			});
			//只要有被选中的就改变结算背景色
			$('.checkbox').each(function(index, item) {
				$(item).click(function() {
					if($('.checkbox.click_checkbox').length >= 1) {
						$('.jiesuan').css('background-color', '#FF4400')
					} else {
						$('.jiesuan').css('background-color', '#AAAAAA')
					}
				})
			})

			//checked相关操作结束	-------------------------------------------------				

			//金额相关操作			
			$('.shuliang').each(function(shuliangIndex, shuliang) {
				//页面加载完成，显示金额
				var $shuliang = $(shuliang).find('input').val() * 1;
				var length = $(shuliang).prev().children('p').html().length - 1;
				var danjia = $(shuliang).prev().children('p').html().substr(1, length) * 1;
				var jine = $shuliang * danjia;
				$(shuliang).next().children('p').html('¥' + jine + '.00')
				//-------------------当点击加号时，数量与金额的变化
				var $menuJia = $(shuliang).children().children('.menu_jia');
				$menuJia.click(function() {
					var $shuliang = $(shuliang).find('input').val() * 1;
					$shuliang += 1;
					$(shuliang).find('input').val($shuliang);
					var length = $(shuliang).prev().children('p').html().length - 1;
					var danjia = $(shuliang).prev().children('p').html().substr(1, length) * 1;
					var jine = $shuliang * danjia;
					$(shuliang).next().children('p').html('¥' + jine + '.00')
				});
				//-------------------当点击减号时，数量与金额的变化
				var $menuJian = $(shuliang).children().children('.menu_jian');
				$menuJian.click(function() {
					var $shuliang = $(shuliang).find('input').val() * 1;
					$shuliang -= 1;
					if($shuliang <= 0) {
						$shuliang = 0;
					}
					$(shuliang).find('input').val($shuliang);
					var length = $(shuliang).prev().children('p').html().length - 1
					var danjia = $(shuliang).prev().children('p').html().substr(1, length) * 1;
					var jine = $shuliang * danjia;
					$(shuliang).next().children('p').html('¥' + jine + '.00');
				});
				//当input输入结束时，金额变化
				$(shuliang).find('input').keyup(function() {
					if($(shuliang).find('input').val() < 0 || isNaN($(shuliang).find('input').val()) || $(shuliang).find('input').val() == "") {
						console.log($(shuliang).find('input').val(0));
					};
					var $shuliang = $(shuliang).find('input').val() * 1;
					var length = $(shuliang).prev().children('p').html().length - 1;
					var danjia = $(shuliang).prev().children('p').html().substr(1, length) * 1;
					var jine = $shuliang * danjia;
					$(shuliang).next().children('p').html('¥' + jine + '.00');
				});
			});
			//==----------------------------------------------------结算
			//遍历被选商品的总金额
			function jiesuan() {
				var totle = 0;
				$('.goodsbox.click_checkbox').each(function(index, item) {
					var jine = $(item).siblings('.jine').children('p').html().substr(1, $(item).siblings('.jine').children('p').html().length - 1) * 1;
					totle += jine;
				});
				$('.totle').html('¥' + totle + '.00');
			};
			$('.checkbox,.menu_jia,.menu_jian').click(function() {
				jiesuan();
			});
			$('.menu_num').find('input').keyup(function() {
				jiesuan();
			});
		});
	</script>

</html>