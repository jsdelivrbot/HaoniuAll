<script type="text/javascript">
	var auths = null;
	document.getElementById("loginByWX").addEventListener('tap', function() {
		plus.oauth.getServices(function(services) {
			auths = services;

			for(var k in auths) {
				console.log(auths[k].id)
			}
			//auths解释0QQ 1微信 2微博 3小米，但是不建议使用auths[1]类似的写法，因为各个设备排序不一样，比较坑爹
			//注意获取使用unionid，此id通用后期的微信端等它会用户共享，（openid完全唯一）
			//var s = auths[1];
			var s;
			for(var i = 0; i < auths.length; i++) {
				//用这样的写法指定第三方，参照：
				//[LOG] : xiaomi
				//[LOG] : qq
				//[LOG] : sinaweibo
				//[LOG] : weixin

				if(auths[i].id == 'weixin') {
					s = auths[i];
					break;
				}
			}

			if(!s.authResult) {
				s.login(function(e) {
					// 获取登录操作结果
					s.getUserInfo(function(e) {
						console.log("获取用户信息成功：" + JSON.stringify(s.userInfo));
						mui.toast('登录成功');
					}, function(e) {
						console.log("获取用户信息失败：" + e.message + " - " + e.code);
						mui.toast('获取用户信息失败');
					});

				}, function(e) {
					mui.toast('登录认证失败');
				});
			} else {
				//已经登录认证
				mui.toast('登录成功');
			}

		}, function(e) {
			console.log("获取登录失败：" + e.message + " - " + e.code);
			mui.toast('登录认证失败');
		});
	});
</script>